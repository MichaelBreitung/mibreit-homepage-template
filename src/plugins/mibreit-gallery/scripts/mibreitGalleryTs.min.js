var ms=Object.defineProperty;var cs=(c,C,O)=>C in c?ms(c,C,{enumerable:!0,configurable:!0,writable:!0,value:O}):c[C]=O;var l=(c,C,O)=>cs(c,typeof C!="symbol"?C+"":C,O);var mibreitGalleryTs=function(c){"use strict";var C=document.createElement("style");C.textContent=`mbg-gallery,mbg-slideshow,mbg-images,mbg-thumbs,mbg-title{position:relative;overflow:hidden;display:block}mbg-images,mbg-thumbs{opacity:0;width:100%}mbg-thumbs{margin-top:.5rem}mbg-title{padding:0rem;text-align:center}.mbg__fade{-webkit-transition:opacity .5s ease-out;-moz-transition:opacity .5s ease-out;-o-transition:opacity .5s ease-out;transition:opacity .5s ease-out}.mbg__transition{-webkit-transition:all .75s ease-out;-moz-transition:all .75s ease-out;-o-transition:all .75s ease-out;transition:all .75s ease-out}.mbg__fullscreen{position:fixed;box-sizing:border-box;background-color:#181818;-webkit-transition:background-color .75s ease-in-out;-moz-transition:background-color .75s ease-in-out;-o-transition:background-color .75s ease-in-out;transition:background-color .75s ease-in-out;overflow:hidden;top:0;left:0;padding:1rem;width:100%;height:100%;z-index:100;display:flex;flex-direction:column}.mbg__fullscreen>div>.mbg__img_stage{overflow:visible}.mbg__fullscreen>div>.mbg__img_stage img{-webkit-box-shadow:0px 0px 15px 0px rgba(0,0,0,.5);box-shadow:0 0 15px #00000080}.mbg__fullscreen>.mbg__fullscreen__exit_btn{position:absolute;width:3rem;height:3rem;right:1rem;top:1rem;z-index:3}.mbg__fullscreen>.mbg__fullscreen__exit_btn>svg{opacity:.75}.mbg__hscroller{height:100%;display:flex;flex-direction:row;align-items:center;-webkit-transition:transform .6s ease-in-out;-moz-transition:transform .6s ease-in-out;-o-transition:transform .6s ease-in-out;transition:transform .6s ease-in-out}.mbg__img_stage{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:hidden}.mbg__img_stage__zoom{-webkit-transition:transform 10s linear;-moz-transition:transform 10s linear;-o-transition:transform 10s linear;transition:transform 10s linear;-webkit-transform:scale(1.125);-moz-transform:scale(1.125);-o-transform:scale(1.125);transform:scale(1.125)}.mbg__hidden{opacity:0}.mbg__thumb_stage{margin:.25rem;position:relative;flex-shrink:0;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);box-shadow:0 0 5px #00000080;box-sizing:content-box;transition:opacity .5s,transform .5s}.mbg__thumb_stage:hover{transform:scale(1.1)}.mbg__thumbs_viewer{height:100%;width:100%;overflow:hidden}.mbg__thumbs_viewer__centered{display:flex;justify-content:center;align-items:center}.mbg__thumbs_scroller__previous_btn,.mbg__thumbs_scroller__next_btn{margin-right:.5rem;margin-left:.5rem}.mbg__thumbs_scroller__previous_btn>svg{transform:scaleX(-1)}.mbg__thumbs_scroller__parent{display:flex;flex-direction:row;align-items:center}.mbg__thumbs_scroller__parent svg{width:3rem;height:3rem;fill:#727f88}.mbg__gallery__fullscreen_btn{position:absolute;z-index:2;width:2rem;height:2rem;right:.25rem;top:.25rem;opacity:0}.mbg__gallery__previous_btn{position:absolute;z-index:2;top:50%;opacity:0}.mbg__gallery__next_btn{position:absolute;z-index:2;top:50%;right:0rem;opacity:0}.mbg__gallery__next_btn>svg{width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}.mbg__gallery__previous_btn>svg{transform:scaleX(-1);width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}
`,document.head.appendChild(C);const p={fade:"mbg__fade",transition:"mbg__transition"};var E=(s=>(s[s.NONE=0]="NONE",s[s.FIT_ASPECT=1]="FIT_ASPECT",s[s.STRETCH=2]="STRETCH",s[s.EXPAND=3]="EXPAND",s))(E||{});function oe(s){if(typeof s.numberOfVisibleThumbs<"u"&&(typeof s.numberOfVisibleThumbs!="number"||s.numberOfVisibleThumbs<1))throw new Error("checkThumbScrollerConfig - numberOfVisibleThumbs is invalid number");if(typeof s.initialIndex<"u"&&(typeof s.initialIndex!="number"||s.initialIndex<0))throw new Error("checkThumbScrollerConfig - config initialIndex should be of type number")}function K(s){if(typeof s.scaleMode<"u"&&(typeof s.scaleMode!="number"||s.scaleMode<0||s.scaleMode>3))throw new Error("checkSlideshowConfig - config scaleMode should be of type EImageScaleMode (number 0 - 3)");if(typeof s.interval<"u"&&(typeof s.interval!="number"||s.interval<1e3))throw new Error("checkSlideshowConfig - config interval should be of type number and larger than 1000");if(typeof s.zoom<"u"&&typeof s.zoom!="boolean")throw new Error("checkSlideshowConfig - config zoom should be of type boolean");if(typeof s.loaderWindowRight<"u"&&(typeof s.loaderWindowRight!="number"||s.loaderWindowRight<0))throw new Error("checkSlideshowConfig - config loaderWindowRight should be of type number");if(typeof s.loaderWindowLeft<"u"&&(typeof s.loaderWindowLeft!="number"||s.loaderWindowLeft<0))throw new Error("checkSlideshowConfig - config loaderWindowLeft should be of type number")}function qe(s){if(K(s),oe(s),typeof s.thumbContainerSelector<"u"&&typeof s.thumbContainerSelector!="string")throw new Error("checkGalleryConfig - invalid thumbContainerSelector");if(typeof s.thumbSelector<"u"&&typeof s.thumbSelector!="string")throw new Error("checkGalleryConfig - invalid thumbSelector");if(typeof s.initialImageNr<"u"&&(typeof s.initialImageNr!="number"||s.initialImageNr<0))throw new Error("checkGalleryConfig - invalid initialImageNr")}const Ze=new RegExp("^#([A-Fa-f0-9]{8})$");function Xe(s){if(typeof s.backgroundColor<"u"&&typeof s.backgroundColor!="string")throw new Error("checkFullscreenConfig - invalid backgroundColor");if(typeof s.backgroundColor=="string"&&!Ze.test(s.backgroundColor))throw new Error("checkFullscreenConfig - invalid backgroundColor - only RGBA hex allowed");if(typeof s.useAverageBackgroundColor<"u"&&typeof s.useAverageBackgroundColor!="boolean")throw new Error("checkFullscreenConfig - invalid useAverageBackgroundColor")}function je(){return parseFloat(window.getComputedStyle(document.body).getPropertyValue("font-size"))}function v(s){return document.createElement(s)}function Ue(s){return s.cloneNode()}function k(s){s.remove()}function he(s,e){e.prepend(s)}function T(s,e){e.appendChild(s)}function $(s,e){e.parentElement&&e.parentElement.insertBefore(s,e)}function Ye(s){const e=s.childNodes,t=new Array;for(let r=0;r<e.length;++r)t.push(e[r]);return t}function x(s,e){s.innerHTML=e}function J(s,e){s[0].parentNode&&(s[0].parentNode.insertBefore(e,s[0]),s.forEach(t=>{e.appendChild(t)}))}function D(s){const e=s.getBoundingClientRect();return{width:e.width,height:e.height}}function Ke(s){const e=s.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+r,x:e.left+t}}function _(s,e){s.classList.contains(e)||s.classList.add(e)}function P(s,e){s.classList.contains(e)&&s.classList.remove(e)}function u(s,e,t){s.style.setProperty(e,t)}function I(s,e){s.style.removeProperty(e),s.style.length===0&&s.removeAttribute("style")}function Je(s){s.hasAttribute("style")&&s.removeAttribute("style")}function Qe(s,e){e==null?Je(s):s.style.cssText=e}function G(s,e){s.addEventListener("click",e)}function ue(s){document.addEventListener("keydown",s)}function L(s,e,t){s.addEventListener(e,t)}function et(s){s.addEventListener("contextmenu",e=>{e.preventDefault()})}function tt(s){s.addEventListener("dragstart",e=>{e.preventDefault()})}function A(s){return document.querySelector(s)}function H(s){return document.querySelectorAll(s)}function me(s){return s.key}/*! Fast Average Color | Â© 2023 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function st(s){var e=s.toString(16);return e.length===1?"0"+e:e}function ce(s){return"#"+s.map(st).join("")}function rt(s){var e=(s[0]*299+s[1]*587+s[2]*114)/1e3;return e<128}function nt(s){return s?it(s)?s:[s]:[]}function it(s){return Array.isArray(s[0])}function Q(s,e,t){for(var r=0;r<t.length;r++)if(at(s,e,t[r]))return!0;return!1}function at(s,e,t){switch(t.length){case 3:if(lt(s,e,t))return!0;break;case 4:if(ot(s,e,t))return!0;break;case 5:if(ht(s,e,t))return!0;break;default:return!1}}function lt(s,e,t){return s[e+3]!==255||s[e]===t[0]&&s[e+1]===t[1]&&s[e+2]===t[2]}function ot(s,e,t){return s[e+3]&&t[3]?s[e]===t[0]&&s[e+1]===t[1]&&s[e+2]===t[2]&&s[e+3]===t[3]:s[e+3]===t[3]}function q(s,e,t){return s>=e-t&&s<=e+t}function ht(s,e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],h=s[e+3],d=q(h,i,o);return i?!!(!h&&d||q(s[e],r,o)&&q(s[e+1],n,o)&&q(s[e+2],a,o)&&d):d}var ut=24;function mt(s,e,t){for(var r={},n=t.dominantDivider||ut,a=t.ignoredColor,i=t.step,o=[0,0,0,0,0],h=0;h<e;h+=i){var d=s[h],m=s[h+1],w=s[h+2],g=s[h+3];if(!(a&&Q(s,h,a))){var b=Math.round(d/n)+","+Math.round(m/n)+","+Math.round(w/n);r[b]?r[b]=[r[b][0]+d*g,r[b][1]+m*g,r[b][2]+w*g,r[b][3]+g,r[b][4]+1]:r[b]=[d*g,m*g,w*g,g,1],o[4]<r[b][4]&&(o=r[b])}}var S=o[0],os=o[1],hs=o[2],B=o[3],us=o[4];return B?[Math.round(S/B),Math.round(os/B),Math.round(hs/B),Math.round(B/us)]:t.defaultColor}function ct(s,e,t){for(var r=0,n=0,a=0,i=0,o=0,h=t.ignoredColor,d=t.step,m=0;m<e;m+=d){var w=s[m+3],g=s[m]*w,b=s[m+1]*w,S=s[m+2]*w;h&&Q(s,m,h)||(r+=g,n+=b,a+=S,i+=w,o++)}return i?[Math.round(r/i),Math.round(n/i),Math.round(a/i),Math.round(i/o)]:t.defaultColor}function _t(s,e,t){for(var r=0,n=0,a=0,i=0,o=0,h=t.ignoredColor,d=t.step,m=0;m<e;m+=d){var w=s[m],g=s[m+1],b=s[m+2],S=s[m+3];h&&Q(s,m,h)||(r+=w*w*S,n+=g*g*S,a+=b*b*S,i+=S,o++)}return i?[Math.round(Math.sqrt(r/i)),Math.round(Math.sqrt(n/i)),Math.round(Math.sqrt(a/i)),Math.round(i/o)]:t.defaultColor}function _e(s){return V(s,"defaultColor",[0,0,0,0])}function V(s,e,t){return s[e]===void 0?t:s[e]}var de=10,ee=100;function dt(s){return s.search(/\.svg(\?|$)/i)!==-1}function gt(s){if(be(s)){var e=s.naturalWidth,t=s.naturalHeight;return!s.naturalWidth&&dt(s.src)&&(e=t=ee),{width:e,height:t}}return ft(s)?{width:s.videoWidth,height:s.videoHeight}:{width:s.width,height:s.height}}function ge(s){return wt(s)?"canvas":bt(s)?"offscreencanvas":vt(s)?"imagebitmap":s.src}function be(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement}var fe=typeof OffscreenCanvas<"u";function bt(s){return fe&&s instanceof OffscreenCanvas}function ft(s){return typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement}function wt(s){return typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement}function vt(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}function pt(s,e){var t=V(e,"left",0),r=V(e,"top",0),n=V(e,"width",s.width),a=V(e,"height",s.height),i=n,o=a;if(e.mode==="precision")return{srcLeft:t,srcTop:r,srcWidth:n,srcHeight:a,destWidth:i,destHeight:o};var h;return n>a?(h=n/a,i=ee,o=Math.round(i/h)):(h=a/n,o=ee,i=Math.round(o/h)),(i>n||o>a||i<de||o<de)&&(i=n,o=a),{srcLeft:t,srcTop:r,srcWidth:n,srcHeight:a,destWidth:i,destHeight:o}}var Et=typeof window>"u";function It(){return Et?fe?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var Ct="FastAverageColor: ";function y(s){return Error(Ct+s)}function z(s,e){e||console.error(s)}var yt=function(){function s(){this.canvas=null,this.ctx=null}return s.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(y("call .getColorAsync() without resource"));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(y("resource as string is not supported in this environment"));var r=new Image;return r.crossOrigin=t&&t.crossOrigin||"",r.src=e,this.bindImageEvents(r,t)}else{if(be(e)&&!e.complete)return this.bindImageEvents(e,t);var n=this.getColor(e,t);return n.error?Promise.reject(n.error):Promise.resolve(n)}},s.prototype.getColor=function(e,t){t=t||{};var r=_e(t);if(!e){var n=y("call .getColor() without resource");return z(n,t.silent),this.prepareResult(r,n)}var a=gt(e),i=pt(a,t);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var n=y('incorrect sizes for resource "'.concat(ge(e),'"'));return z(n,t.silent),this.prepareResult(r,n)}if(!this.canvas&&(this.canvas=It(),!this.canvas)){var n=y("OffscreenCanvas is not supported in this browser");return z(n,t.silent),this.prepareResult(r,n)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var n=y("Canvas Context 2D is not supported in this browser");return z(n,t.silent),this.prepareResult(r)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var o=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(o,t))}catch(h){var n=y("security error (CORS) for resource ".concat(ge(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return z(n,t.silent),!t.silent&&console.error(h),this.prepareResult(r,n)}},s.prototype.getColorFromArray4=function(e,t){t=t||{};var r=4,n=e.length,a=_e(t);if(n<r)return a;var i=n-n%r,o=(t.step||1)*r,h;switch(t.algorithm||"sqrt"){case"simple":h=ct;break;case"sqrt":h=_t;break;case"dominant":h=mt;break;default:throw y("".concat(t.algorithm," is unknown algorithm"))}return h(e,i,{defaultColor:a,ignoredColor:nt(t.ignoredColor),step:o,dominantDivider:t.dominantDivider})},s.prototype.prepareResult=function(e,t){var r=e.slice(0,3),n=[e[0],e[1],e[2],e[3]/255],a=rt(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+r.join(",")+")",rgba:"rgba("+n.join(",")+")",hex:ce(r),hexa:ce(e),isDark:a,isLight:!a,error:t}},s.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},s.prototype.bindImageEvents=function(e,t){var r=this;return new Promise(function(n,a){var i=function(){d();var m=r.getColor(e,t);m.error?a(m.error):n(m)},o=function(){d(),a(y('Error loading image "'.concat(e.src,'"')))},h=function(){d(),a(y('Image "'.concat(e.src,'" loading aborted')))},d=function(){e.removeEventListener("load",i),e.removeEventListener("error",o),e.removeEventListener("abort",h)};e.addEventListener("load",i),e.addEventListener("error",o),e.addEventListener("abort",h)})},s}();function St(s){const e=s.getBoundingClientRect(),t=window.innerHeight,r=window.innerWidth;return e.top+e.height>0&&e.top<t&&e.left+e.width>0&&e.left<r}function Tt(s){return W(s,"class")}function xt(s,e){s.classList.contains(e)||s.classList.add(e)}function we(s,e){s.classList.contains(e)&&s.classList.remove(e)}function Lt(s,e,t){s.style.setProperty(e,t)}function At(s,e){s.style.removeProperty(e),s.style.length===0&&s.removeAttribute("style")}function W(s,e){return s.hasAttribute(e)?s.getAttribute(e):null}function Ot(s,e,t){s.setAttribute(e,t)}function kt(s,e){s.removeAttribute(e)}var Pt=Object.defineProperty,Ht=(s,e,t)=>e in s?Pt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Z=(s,e,t)=>Ht(s,typeof e!="symbol"?e+"":e,t);const ve="mbll__marker",pe="mbll__transition",Ee="data-src",Vt="src";class zt{constructor(e){Z(this,"_element"),Z(this,"_state",0),Z(this,"_wasLoadedCallbacks",new Array),Z(this,"_dataSrc",null);var t;this._element=e,this._dataSrc=W(e,Ee);const r=(t=Tt(e))==null?void 0:t.split(",");this._dataSrc||r&&r.includes(ve)?(this._state=0,this._setBaseStyle()):this._state=2}load(){return new Promise((e,t)=>{this._state==0?(this._element.onload=()=>{this._finishLoad(),e(!0)},this._triggerLoad(),this._state=1,this._setLoadingStyle(),this._element instanceof HTMLImageElement&&this._element.complete&&(this._element.onload=null,this._finishLoad(),e(!0))):this._state===1?t(!1):t(!0)})}wasLoaded(){return this._state===2}addWasLoadedCallback(e){this._wasLoadedCallbacks.includes(e)||this._wasLoadedCallbacks.push(e)}_triggerLoad(){this._dataSrc&&Ot(this._element,Vt,this._dataSrc),we(this._element,ve)}_finishLoad(){kt(this._element,Ee),this._state=2,this._wasLoadedCallbacks.forEach(e=>{e()}),setTimeout(()=>{this._setLoadedStyle()},50)}_setBaseStyle(){Lt(this._element,"opacity","0")}_setLoadingStyle(){xt(this._element,pe)}_setLoadedStyle(){At(this._element,"opacity"),setTimeout(()=>{we(this._element,pe)},1e3)}}var Wt=Object.defineProperty,Rt=(s,e,t)=>e in s?Wt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,X=(s,e,t)=>Rt(s,typeof e!="symbol"?e+"":e,t);class Nt{constructor(e){X(this,"_element"),X(this,"_width"),X(this,"_height"),X(this,"_originalElementStyle");const t=W(e,"width"),r=W(e,"height");if(t==null||r==null)throw new Error("ElementInfo#constructor - supported elements need a width and height property");const n=W(e,"class");this._element=e,this._originalElementStyle=n||"",this._width=parseInt(t),this._height=parseInt(r)}getWidth(){return this._width}getHeight(){return this._height}getStyle(){return this._originalElementStyle}isElementWithinScrollArea(){return St(this._element)}}var Ft=Object.defineProperty,Mt=(s,e,t)=>e in s?Ft(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Bt=(s,e,t)=>Mt(s,e+"",t);class $t extends zt{constructor(e){super(e),Bt(this,"_elementInfo"),this._elementInfo=new Nt(this._element)}getHtmlElement(){return this._element}getWidth(){return this._elementInfo.getWidth()}getHeight(){return this._elementInfo.getHeight()}getStyle(){return this._elementInfo.getStyle()}isElementWithinScrollArea(){return this._elementInfo.isElementWithinScrollArea()}}var Dt=Object.defineProperty,Gt=(s,e,t)=>e in s?Dt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,R=(s,e,t)=>Gt(s,typeof e!="symbol"?e+"":e,t);let Ie=class{constructor(e,t=0,r=1){R(this,"_currentIndex"),R(this,"_loaderWindowLeft"),R(this,"_loaderWindowRight"),R(this,"_unloadedElementIndices",[]),R(this,"_elementLoaders"),this._currentIndex=-1,this._elementLoaders=e,this._loaderWindowLeft=t,this._loaderWindowRight=r,this._updateUnloadedElementIndices()}async loadAll(){await this._loadElements(0,this._elementLoaders.length)}async setCurrentIndex(e){this._currentIndex!=e&&(this._currentIndex=e,await this._moveWindow())}async loadElement(e){if(e>=0&&e<this._elementLoaders.length){let t=!1;if(!this._unloadedElementIndices.includes(e))t=!0;else try{if(t=await this._elementLoaders[e].load(),t){const r=this._unloadedElementIndices.indexOf(e);r>-1&&this._unloadedElementIndices.splice(r,1)}}catch(r){t=r}return t}else throw new Error(`Preloader#loadElement -> invalid Index ${e}`)}getElementLoaderInfos(){return this._elementLoaders}getUnloadedElementIndices(){return this._unloadedElementIndices}async _moveWindow(){if(this._unloadedElementIndices.length){let e=this._currentIndex-this._loaderWindowLeft,t=this._currentIndex+1+this._loaderWindowRight;await this._loadElements(this._currentIndex,t<this._elementLoaders.length?t:this._elementLoaders.length),await this._loadElements(e>=0?e:0,this._currentIndex),e<0&&(e=this._elementLoaders.length+e,await this._loadElements(e,this._elementLoaders.length)),t>=this._elementLoaders.length&&(t=t-this._elementLoaders.length,await this._loadElements(0,t))}}async _loadElements(e,t){for(let r=e<0?0:e;r<t&&r<this._elementLoaders.length;r++)await this.loadElement(r)}_updateUnloadedElementIndices(){for(let e=0;e<this._elementLoaders.length;e++)this._elementLoaders[e].wasLoaded()||this._unloadedElementIndices.push(e)}};var qt=(s=>(s[s.SIMPLE_DEFER=0]="SIMPLE_DEFER",s[s.WINDOWED_EXTERNAL=1]="WINDOWED_EXTERNAL",s[s.WINDOWED_SCROLL=2]="WINDOWED_SCROLL",s[s.WINDOWED_SCROLL_HORIZONTAL=3]="WINDOWED_SCROLL_HORIZONTAL",s))(qt||{});const Ce={fullscreen:"mbg__fullscreen",img_stage:"mbg__img_stage",fullscreen__exit_btn:"mbg__fullscreen__exit_btn"},Zt='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';class ye{constructor(e,t=null,r=!0){l(this,"_changedCallbacks",[]);l(this,"_active");l(this,"_slideshowContainerElement");l(this,"_thumbsContainerElement",null);l(this,"_fullScreenContainerElement");l(this,"_slideshowContainerPlaceholderElement");l(this,"_thumbsContainerPlaceholderElement",null);l(this,"_closeButtonElement");l(this,"_usePlaceholder");this._active=!1,this._slideshowContainerElement=e,this._thumbsContainerElement=t,this._usePlaceholder=r,this._fullScreenContainerElement=this._createFullscreenContainer(),this._closeButtonElement=this._createFullscreenCloseButton(this._fullScreenContainerElement),this._slideshowContainerPlaceholderElement=this._createSlideshowContainerPlaceholder(),t&&(this._thumbsContainerPlaceholderElement=this._createThumbsContainerPlaceholder())}activate(){this._active||(this._moveGalleryToFullscreen(),this._moveThumbsToFullscreen(),this._addFullscreen(),this._setupCloseButtonHandler(),this._active=!0,this._changedCallbacks.forEach(e=>{e(!0)}))}deActivate(){this._active&&(this._removeGalleryFromFullscreen(),this._removeThumbsFromFullscreen(),this._removeFullscreen(),this._active=!1,this._changedCallbacks.forEach(e=>{e(!1)}))}addChangedCallback(e){this._changedCallbacks.includes(e)||this._changedCallbacks.push(e)}isActive(){return this._active}setBackgroundColor(e){u(this._fullScreenContainerElement,"background-color",e)}_createFullscreenContainer(){const e=v("div");return _(e,Ce.fullscreen),e}_createFullscreenCloseButton(e){const t=v("div");return x(t,Zt),_(t,Ce.fullscreen__exit_btn),T(t,e),t}_createSlideshowContainerPlaceholder(){return v("div")}_createThumbsContainerPlaceholder(){return v("div")}_addFullscreen(){const e=A("body");e!=null&&T(this._fullScreenContainerElement,e)}_removeFullscreen(){k(this._fullScreenContainerElement)}_moveGalleryToFullscreen(){this._usePlaceholder&&$(this._slideshowContainerPlaceholderElement,this._slideshowContainerElement),T(this._slideshowContainerElement,this._fullScreenContainerElement),u(this._slideshowContainerElement,"width","100%"),u(this._slideshowContainerElement,"flex-grow","1")}_removeGalleryFromFullscreen(){k(this._slideshowContainerElement),this._usePlaceholder&&($(this._slideshowContainerElement,this._slideshowContainerPlaceholderElement),k(this._slideshowContainerPlaceholderElement)),I(this._slideshowContainerElement,"width"),I(this._slideshowContainerElement,"flex-grow")}_moveThumbsToFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(this._usePlaceholder&&$(this._thumbsContainerPlaceholderElement,this._thumbsContainerElement),T(this._thumbsContainerElement,this._fullScreenContainerElement),u(this._thumbsContainerElement,"flex-grow","0"))}_removeThumbsFromFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(k(this._thumbsContainerElement),this._usePlaceholder&&($(this._thumbsContainerElement,this._thumbsContainerPlaceholderElement),k(this._thumbsContainerPlaceholderElement)),I(this._thumbsContainerElement,"flex-grow"))}_setupCloseButtonHandler(){G(this._closeButtonElement,e=>{e==null||e.stopPropagation(),this._active&&this.deActivate()})}}const Xt={hscroller:"mbg__hscroller"};class Se{constructor(e){l(this,"_scroller");this._scroller=this._createScroller(e)}scrollTo(e,t=!1){let r;return t?r=`${e}rem`:r=`${e}px`,u(this._scroller,"transform",`translate(${r})`),!0}_createScroller(e){const t=v("div");return _(t,Xt.hscroller),J(e,t),t}}const Te="title",xe="data-title",jt=1,Ut=0,Yt=7,Kt=.5;let te=class extends $t{constructor(t){super(t);l(this,"_title","");this._prepareTitle(t),this._limitMaxSizeTo(t,this.getWidth(),this.getHeight()),et(t),tt(t)}getTitle(){return this._title}getUrl(){return this._element.hasAttribute("data-src")?this._element.getAttribute("data-src"):this._element.getAttribute("src")}_limitMaxSizeTo(t,r,n){Qe(t,`max-width: ${r}px; max-height: ${n}px`)}_prepareTitle(t){let r=t.getAttribute(Te);r?(t.setAttribute(xe,r),t.removeAttribute(Te)):r=t.getAttribute(xe),this._title=r||""}};const se={img_stage:"mbg__img_stage",img_stage__zoom:"mbg__img_stage__zoom"},Le=50,Jt=700;var f=(s=>(s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s))(f||{});class re{constructor(e,t){l(this,"_callback");l(this,"_touchStartTime",null);l(this,"_touchStartPosition",null);l(this,"_touchStart",e=>{this._touchStartTime=Date.now(),this._touchStartPosition=this._getTouchPosition(e)});l(this,"_touchEnd",e=>{if(this._touchStartTime&&this._touchStartPosition&&Date.now()-this._touchStartTime<Jt){const t=this._getTouchPosition(e),r=this._detectDirection(this._touchStartPosition,t);this._callback(r,t)}this._touchStartPosition=null,this._touchStartTime=null});this._callback=t,L(e,"pointerdown",this._touchStart),L(e,"pointerup",this._touchEnd)}_getTouchPosition(e){return{x:e.pageX,y:e.pageY}}_detectDirection(e,t){const r=e.x-t.x;return r>Le?2:r<-Le?1:0}}const j=async function(){return new Promise((s,e)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{s()})})})},Qt=1e3;class N{constructor(e){l(this,"_zoomAnimationActive",!1);l(this,"_imageStage");l(this,"_imageHandle");this._imageHandle=e,this._imageStage=this._createStage(),new ResizeObserver(()=>{this.reinitSize()}).observe(this._imageStage)}setZoomAnimation(e){this._zoomAnimationActive=e}reinitSize(){const e=D(this._imageStage);this._applyScaleModeImpl(e.width,e.height),this._centerImage(e.width,e.height)}async hideImage(e=f.NONE){this._zoomAnimationActive&&setTimeout(()=>{this._resetZoom()},Qt),await j(),e==f.RIGHT?(_(this._imageStage,p.transition),u(this._imageStage,"left","-100%")):e==f.LEFT&&(_(this._imageStage,p.transition),u(this._imageStage,"left","100%")),I(this._imageStage,"opacity")}async showImage(e=f.NONE){this._zoomAnimationActive&&this._startZoomAnimation(),await j(),e==f.RIGHT?(P(this._imageStage,p.transition),u(this._imageStage,"left","100%"),await j(),_(this._imageStage,p.transition),I(this._imageStage,"left")):e==f.LEFT?(P(this._imageStage,p.transition),u(this._imageStage,"left","-100%"),await j(),_(this._imageStage,p.transition),I(this._imageStage,"left")):(P(this._imageStage,p.transition),I(this._imageStage,"left")),u(this._imageStage,"opacity","1")}_createStage(){const e=v("div");return _(e,se.img_stage),_(e,p.fade),J([this._imageHandle],e),e}_centerImage(e,t){const{width:r,height:n}=D(this._imageHandle),a=(r+e)/2-r,i=(n+t)/2-n;u(this._imageHandle,"margin-left",`${a}px`),u(this._imageHandle,"margin-top",`${i}px`)}_startZoomAnimation(){_(this._imageHandle,se.img_stage__zoom)}_resetZoom(){P(this._imageHandle,se.img_stage__zoom)}}class ne extends N{constructor(t,r,n){super(t);l(this,"_imageWidth");l(this,"_imageHeight");this._imageWidth=r,this._imageHeight=n}_applyScaleModeImpl(t,r){const n=this._imageWidth/this._imageHeight,a=t/r;a>n?(u(this._imageHandle,"width","100%"),u(this._imageHandle,"height",`${100/n*a}%`)):(u(this._imageHandle,"width",`${n*100/a}%`),u(this._imageHandle,"height","100%"))}}class Ae extends N{constructor(t,r,n){super(t);l(this,"_imageWidth");l(this,"_imageHeight");this._imageWidth=r,this._imageHeight=n}_applyScaleModeImpl(t,r){const n=this._imageWidth/this._imageHeight;let a="auto",i="auto";t/r>n?r<=this._imageHeight&&(i="100%"):t<=this._imageWidth&&(a="100%"),u(this._imageHandle,"width",a),u(this._imageHandle,"height",i)}}class Oe extends N{constructor(e){super(e)}_applyScaleModeImpl(e,t){I(this._imageHandle,"width"),I(this._imageHandle,"height")}}class ke extends N{constructor(e){super(e)}_applyScaleModeImpl(e,t){u(this._imageHandle,"width","100%"),u(this._imageHandle,"height","100%")}}const Pe={hidden:"mbg__hidden"};class He{constructor(e,t,r=E.FIT_ASPECT){l(this,"_currentIndex",-1);l(this,"_delayedNewIndex",-1);l(this,"_imageStages",[]);l(this,"_images");l(this,"_lazyLoader");l(this,"_imageChangedCallbacks",new Array);this._images=e,e.forEach(n=>{_(n.getHtmlElement(),Pe.hidden)}),this._lazyLoader=t,this._prepareImageStages(e,r)}showImage(e){return this._showImage(e)}showNextImage(e){const t=this._currentIndex<this._imageStages.length-1?this._currentIndex+1:0;return this._showImage(t,e)}showPreviousImage(e){const t=this._currentIndex>0?this._currentIndex-1:this._imageStages.length-1;return this._showImage(t,e)}getNumberOfImages(){return this._imageStages.length}setZoomAnimation(e){this._imageStages.forEach(t=>{t.setZoomAnimation(e)})}addImageChangedCallback(e){this._imageChangedCallbacks.includes(e)||this._imageChangedCallbacks.push(e)}getImageIndex(){return this._currentIndex}getImageInfo(e){return this._isValidIndex(e)?this._images[e]:null}getImageElement(e){return this._isValidIndex(e)?this._images[e].getHtmlElement():null}_showImage(e,t=f.NONE){return this._isValidIndex(e)?(e!=this._currentIndex&&(P(this._images[e].getHtmlElement(),Pe.hidden),this._lazyLoader.setCurrentIndex(e),this._images[e].wasLoaded()?(this._hideImage(this._currentIndex,t),this._changeCurrentImage(e,t)):(this._delayedNewIndex=e,this._images[e].addWasLoadedCallback(()=>{e===this._delayedNewIndex&&(this._hideImage(this._currentIndex,t),this._changeCurrentImage(this._delayedNewIndex,t))}))),!0):!1}_hideImage(e,t=f.NONE){this._isValidIndex(e)&&this._imageStages[this._currentIndex].hideImage(t)}_prepareImageStages(e,t){e.forEach(r=>{const n=this._createImageStage(r.getHtmlElement(),r.getWidth(),r.getHeight(),t);r.addWasLoadedCallback(()=>{n.reinitSize()}),this._imageStages.push(n)})}_createImageStage(e,t,r,n=E.FIT_ASPECT){switch(n){case E.EXPAND:return new ne(e,t,r);case E.FIT_ASPECT:return new Ae(e,t,r);case E.STRETCH:return new ke(e);case E.NONE:default:return new Oe(e)}}_isValidIndex(e){return e>=0&&e<this._imageStages.length}_changeCurrentImage(e,t=f.NONE){this._currentIndex=e,this._imageStages[this._currentIndex].showImage(t),this._imageChangedCallbacks.forEach(r=>{r(this._currentIndex,this._images[this._currentIndex])})}}const es={thumb_stage:"mbg__thumb_stage"};class Ve extends ne{constructor(e,t,r){super(e,t,r),_(this._imageStage,es.thumb_stage)}addStageClickedCallback(e){G(this._imageStage,e)}}const ze={thumbs_viewer:"mbg__thumbs_viewer",thumbs_viewer__centered:"mbg__thumbs_viewer__centered"};class We{constructor(e,t){l(this,"_scroller",null);l(this,"_wrapperElement");l(this,"_thumbElements");l(this,"_thumbSizeRem");l(this,"_numberOfVisibleThumbs");l(this,"_scrollIndexChangedCallbacks",new Array);l(this,"_currentScrollIndex",0);this._numberOfVisibleThumbs=t,this._thumbElements=Array.from(e.children),this._wrapperElement=this._wrapThumbs(Ye(e)),this._thumbSizeRem=this._calculateThumbsize(),this._resizeThumbs(),this._numberOfVisibleThumbs<this._thumbElements.length&&(this._scroller=new Se(this._thumbElements)),new ResizeObserver(()=>{this._reinitSize()}).observe(this._wrapperElement)}setCenterThumb(e,t=!0){if(this._scroller){let r=e;t&&(r-=Math.floor(this._numberOfVisibleThumbs/2));const n=this._normalizeIndex(r);this._currentScrollIndex=n;const a=-n*this._thumbSizeRem;this._scroller.scrollTo(a,!0),this._scrollIndexChangedCallbacks.forEach(i=>{i(this._currentScrollIndex)})}}scrollNext(){let e=this._currentScrollIndex+this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===t?e=0:e>=t&&(e=t),this.setCenterThumb(e,!1)}scrollPrevious(){let e=this._currentScrollIndex-this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===0?e=t:e<0&&(e=0),this.setCenterThumb(e,!1)}addScrollIndexChangedCallback(e){this._scrollIndexChangedCallbacks.includes(e)||this._scrollIndexChangedCallbacks.push(e)}_reinitSize(){this._thumbSizeRem=this._calculateThumbsize(),this._resizeThumbs(),this.setCenterThumb(this._currentScrollIndex,!1)}_normalizeIndex(e){const t=this._thumbElements.length-this._numberOfVisibleThumbs;return e>=t?t:e<0?0:e}_wrapThumbs(e){const t=v("div");return _(t,ze.thumbs_viewer),this._numberOfVisibleThumbs>=this._thumbElements.length&&_(t,ze.thumbs_viewer__centered),J(e,t),t}_calculateThumbsize(){const e=je();return D(this._wrapperElement).width/e/this._numberOfVisibleThumbs}_resizeThumbs(){const e=this._thumbSizeRem*.9,t=this._thumbSizeRem*.05;for(let r=0;r<this._thumbElements.length;++r)u(this._thumbElements[r],"width",`${e}rem`),u(this._thumbElements[r],"height",`${e}rem`),u(this._thumbElements[r],"margin-left",`${t}rem`),u(this._thumbElements[r],"margin-right",`${t}rem`);u(this._wrapperElement,"height",`${this._thumbSizeRem*1.1}rem`)}}class ts{constructor(e,t,r,n){l(this,"_imageViewer");l(this,"_loader");l(this,"_fullscreenContainer",null);l(this,"_thumbsViewer",null);this._imageViewer=e,this._loader=t,this._thumbsViewer=r,this._fullscreenContainer=n}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}getThumbsViewer(){return this._thumbsViewer}getFullscreen(){return this._fullscreenContainer}}class ss{constructor(e,t){l(this,"_imageViewer");l(this,"_loader");this._imageViewer=e,this._loader=t}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}}class ie{constructor(e,t){l(this,"_imageViewer");l(this,"_lazyLoader");const r=this._createImagesArray(e);this._lazyLoader=this._createLoader(r,t==null?void 0:t.loaderWindowLeft,t==null?void 0:t.loaderWindowRight),this._imageViewer=this._createImageViewer(r,t==null?void 0:t.scaleMode,t==null?void 0:t.zoom),t!=null&&t.interval&&setInterval(()=>{this._imageViewer.showNextImage()},t.interval)}build(){return new ss(this._imageViewer,this._lazyLoader)}_createImagesArray(e){const t=new Array;for(let r=0;r<e.length;r++){const n=new te(e[r]);t.push(n)}return t}_createLoader(e,t=Ut,r=jt){return new Ie(e,t,r)}_createImageViewer(e,t,r){const n=new He(e,this._lazyLoader,t);return r!==void 0&&n.setZoomAnimation(r),n}}const ae={thumbs_scroller__previous_btn:"mbg__thumbs_scroller__previous_btn",thumbs_scroller__next_btn:"mbg__thumbs_scroller__next_btn",thumbs_scroller__parent:"mbg__thumbs_scroller__parent"},Re='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"/></svg>';class Ne{constructor(e,t,r,n){l(this,"_thumbContainerElement");l(this,"_previousButtonElement");l(this,"_nextButtonElement");l(this,"_lazyLoader");l(this,"_numberOfVisibleThumbs");l(this,"_numberOfThumbs");l(this,"_initialIndex");l(this,"_thumbsViewer");this._thumbContainerElement=e,_(this._thumbContainerElement,ae.thumbs_scroller__parent),this._numberOfVisibleThumbs=r!=null&&r.numberOfVisibleThumbs?r.numberOfVisibleThumbs:Yt,this._initialIndex=r==null?void 0:r.initialIndex;const a=this._createThumbsArray(t);this._numberOfThumbs=a.length,this._createThumbStages(a,n),this._lazyLoader=new Ie(a,0,this._numberOfVisibleThumbs-1),this._thumbsViewer=this._createThumbsViewer(this._initialIndex)}addPreviousNextButtons(){return this._numberOfVisibleThumbs<this._numberOfThumbs&&([this._previousButtonElement,this._nextButtonElement]=this._createPreviousNextButtons()),this}build(){return this._previousButtonElement&&this._nextButtonElement&&this._addThumbsViewerInteraction(this._previousButtonElement,this._nextButtonElement),this._numberOfVisibleThumbs>=this._numberOfThumbs?setTimeout(()=>{this._lazyLoader.loadElement(0),this._lazyLoader.setCurrentIndex(0),this._thumbsViewer.setCenterThumb(0)},0):this._setupSwipeHandler(),this._thumbsViewer}_createThumbsArray(e){const t=new Array;for(let r=0;r<e.length;r++){const n=new te(e[r]);t.push(n)}return t}_createThumbStages(e,t){e.forEach((r,n)=>{const a=new Ve(r.getHtmlElement(),r.getWidth(),r.getHeight());r.addWasLoadedCallback(()=>{a.showImage(),a.reinitSize()}),r.wasLoaded()&&a.showImage(),t&&a.addStageClickedCallback(()=>{t(n)})})}_createThumbsViewer(e=0){const t=new We(this._thumbContainerElement,this._numberOfVisibleThumbs);return t.addScrollIndexChangedCallback(r=>{this._lazyLoader.setCurrentIndex(r)}),t.setCenterThumb(e),t}_createPreviousNextButtons(){const e=v("div");x(e,Re),_(e,ae.thumbs_scroller__previous_btn),he(e,this._thumbContainerElement);const t=v("div");return x(t,Re),_(t,ae.thumbs_scroller__next_btn),T(t,this._thumbContainerElement),[e,t]}_addThumbsViewerInteraction(e,t){G(t,()=>{this._thumbsViewer.scrollNext()}),G(e,()=>{this._thumbsViewer.scrollPrevious()})}_setupSwipeHandler(){new re(this._thumbContainerElement,(e,t)=>{e===f.RIGHT?this._thumbsViewer.scrollNext():e===f.LEFT&&this._thumbsViewer.scrollPrevious()})}}const Fe='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>',rs='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z"/></svg>',le={gallery__fullscreen_btn:"mbg__gallery__fullscreen_btn",gallery__previous_btn:"mbg__gallery__previous_btn",gallery__next_btn:"mbg__gallery__next_btn"};class F{constructor(e,t,r=!1){l(this,"_slideshowContainerElement");l(this,"_fullScreenOnly");l(this,"_slideshow");l(this,"_thumbsViewer",null);l(this,"_fullscreen",null);this._slideshowContainerElement=e,this._slideshow=t,this._fullScreenOnly=r}static fromContainerAndImages(e,t,r){const n=new ie(t,r).build();return new F(e,n)}static fromImages(e,t){const r=v("div");u(r,"display","none"),e.forEach(o=>{T(Ue(o),r)});const n=A("body");T(r,n);const a=r.children,i=new ie(a,t).build();return new F(r,i,!0)}addPreviousNextButtons(){if(this._slideshow.getImageViewer().getNumberOfImages()>1){const{previousButton:e,nextButton:t}=this._createPreviousNextButtons();this._setupHoverEvents([e,t])}return this}addFullscreen(e){if(this._fullscreen=new ye(this._slideshowContainerElement),e&&(Xe(e),e.backgroundColor&&this._fullscreen.setBackgroundColor(e.backgroundColor),e.useAverageBackgroundColor)){const r=new yt,n=this._slideshow.getImageViewer();n.addImageChangedCallback((a,i)=>{var o;if((o=this._fullscreen)!=null&&o.isActive()){const h=r.getColor(n.getImageElement(a),{algorithm:"sqrt",silent:!0});this._fullscreen.setBackgroundColor(h.rgb)}}),this._fullscreen.addChangedCallback(a=>{var i;if(a){const o=r.getColor(n.getImageElement(n.getImageIndex()),{algorithm:"sqrt"});(i=this._fullscreen)==null||i.setBackgroundColor(o.rgb)}})}const t=this._createFullscreenButton();return this._setupHoverEvents([t]),this._setupFullscreenKeyEvents(this._fullscreen),this._setupFullscreenClickEvent(this._fullscreen,t),this._setupFullscreenChangedHandler(this._fullscreen,t),this._fullScreenOnly&&this._fullscreen.addChangedCallback(r=>{r?I(this._slideshowContainerElement,"display"):u(this._slideshowContainerElement,"display","none")}),this}addThumbScroller(e,t,r){return this._thumbsViewer=new Ne(e,t,r,n=>{this._slideshow.getLoader().setCurrentIndex(n),this._slideshow.getImageViewer().showImage(n)}).addPreviousNextButtons().build(),this._slideshow.getImageViewer().addImageChangedCallback((n,a)=>{this._thumbsViewer.setCenterThumb(n,!0)}),this}build(){return this._slideshow.getImageViewer().getNumberOfImages()>1&&(this._setupSwipeHandler(this._slideshow.getImageViewer()),this._setupKeyEvents(this._slideshow.getImageViewer())),new ts(this._slideshow.getImageViewer(),this._slideshow.getLoader(),this._thumbsViewer,this._fullscreen)}_createPreviousNextButtons(){const e=v("div");x(e,Fe),_(e,le.gallery__previous_btn),_(e,p.fade),he(e,this._slideshowContainerElement);const t=v("div");return x(t,Fe),_(t,le.gallery__next_btn),_(t,p.fade),T(t,this._slideshowContainerElement),{previousButton:e,nextButton:t}}_setupSwipeHandler(e){u(this._slideshowContainerElement,"touch-action","pinch-zoom pan-y"),new re(this._slideshowContainerElement,(t,r)=>{if(t===f.LEFT)e.showPreviousImage(t);else if(t===f.RIGHT)e.showNextImage(t);else{const n=D(this._slideshowContainerElement).width,a=Ke(this._slideshowContainerElement).x;r.x-a>n/2?e.showNextImage():e.showPreviousImage()}})}_setupHoverEvents(e){L(this._slideshowContainerElement,"mouseenter",()=>{e.forEach(t=>{u(t,"opacity",`${Kt}`)})}),L(this._slideshowContainerElement,"mouseleave",()=>{e.forEach(t=>{u(t,"opacity","0")})})}_setupKeyEvents(e){ue(t=>{switch(me(t)){case"ArrowRight":e.showNextImage();break;case"ArrowLeft":e.showPreviousImage();break}})}_setupFullscreenKeyEvents(e){ue(t=>{switch(me(t)){case"Escape":e.deActivate();break;case"f":e.isActive()?e.deActivate():e.activate();break}})}_createFullscreenButton(){const e=v("div");return x(e,rs),_(e,le.gallery__fullscreen_btn),_(e,p.fade),T(e,this._slideshowContainerElement),e}_setupFullscreenClickEvent(e,t){L(t,"pointerdown",r=>{r.stopPropagation()}),L(t,"pointerup",r=>{r.stopPropagation(),e.isActive()||(e.activate(),u(t,"display","none"))})}_setupFullscreenChangedHandler(e,t){e.addChangedCallback(r=>{r?u(t,"display","none"):I(t,"display")})}}function Me(s,e){if(typeof s!="string")throw new Error("createSlideshow - second parameter must be imageSelector string");const t=H(s);if((t==null?void 0:t.length)>0){e&&K(e);const r=new ie(t,e).build();return r.getImageViewer().showImage(0),r}else throw new Error("createSlideshow - no images selected")}function Be(s,e,t,r){if(typeof s!="string")throw new Error("createThumbsViewer - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createThumbsViewer - second parameter must be imageSelector string");t&&oe(t);const n=H(e),a=A(s);if(a&&(n==null?void 0:n.length)>0)return new Ne(a,n,t,r).addPreviousNextButtons().build();throw new Error("createThumbsViewer - no images selected")}function $e(s,e,t){if(typeof s!="string")throw new Error("createGallery - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createGallery - second parameter must be imageSelector string");t&&qe(t);const r=H(e),n=A(s);if(n&&r.length>0){const a=F.fromContainerAndImages(n,r,t).addPreviousNextButtons().addFullscreen({useAverageBackgroundColor:!0});if(t!=null&&t.thumbSelector&&(t!=null&&t.thumbContainerSelector)){const o=A(t.thumbContainerSelector),h=H(t.thumbSelector);o&&h&&(h.length>1?a.addThumbScroller(o,h,t):u(o,"display","none"))}const i=a.build();return t!=null&&t.initialImageNr?i.getImageViewer().showImage(t.initialImageNr):i.getImageViewer().showImage(0),i}else throw new Error("createGallery - no images selected")}function ns(s,e){if(typeof s!="string")throw new Error("createFullscreenOnlyGallery - first parameter must be imageSelector string");K(e);const t=H(s);if((t==null?void 0:t.length)>0){const r=F.fromImages(t,e).addPreviousNextButtons().addFullscreen({useAverageBackgroundColor:!0}).build();return t.forEach(function(n,a){n.style.setProperty("cursor","pointer"),n.addEventListener("click",function(){const i=r.getFullscreen();i&&!i.isActive()&&(r.getImageViewer().showImage(a),i.activate())})}),r}else throw new Error("createFullscreenOnlyGallery - no images selected")}window.mbgGalleryObjects=new Array;function U(s){const e=A(s);e&&(_(e,p.fade),u(e,"opacity","1"))}const Y=class Y extends HTMLElement{connectedCallback(){const e=`mbg__custom-gallery-${Y.classCounter++}`;this.classList.add(e);const t=this.getAttribute("numberOfVisibleThumbs"),r=this.getAttribute("loaderWindowLeft"),n=this.getAttribute("loaderWindowRight"),a=this.getAttribute("initialImageNr"),i=this.getAttribute("interval"),o=this.hasAttribute("zoom"),h=`.${e} mbg-images`,d=`.${e} mbg-thumbs`,m=$e(h,`${h} img`,{scaleMode:E.FIT_ASPECT,thumbContainerSelector:d,thumbSelector:`${d} img`,numberOfVisibleThumbs:t?+t:void 0,loaderWindowLeft:r?+r:void 0,loaderWindowRight:n?+n:void 0,initialImageNr:a?+a:void 0,interval:i?+i:void 0,zoom:o?!0:void 0});window.mbgGalleryObjects.push(m);const w=document.querySelector("mbg-title");if(w){const g=m.getImageViewer().getImageInfo(m.getImageViewer().getImageIndex());g&&(w.innerHTML=g.getTitle()),m.getImageViewer().addImageChangedCallback((b,S)=>{w.innerHTML=S.getTitle()})}U(h),U(d)}};l(Y,"classCounter",0);let M=Y;class De extends HTMLElement{connectedCallback(){const e=`mbg__custom-slideshow-${M.classCounter++}`;this.classList.add(e);const t=this.getAttribute("loaderWindowLeft"),r=this.getAttribute("loaderWindowRight"),n=this.getAttribute("interval"),a=this.hasAttribute("zoom"),i=this.hasAttribute("expand"),o=`.${e} mbg-images`;Me(`${o} img`,{scaleMode:i?E.EXPAND:E.FIT_ASPECT,loaderWindowLeft:t?+t:void 0,loaderWindowRight:r?+r:void 0,interval:n?+n:4e3,zoom:a?!0:void 0}),U(o)}}l(De,"classCounter",0);class Ge extends HTMLElement{connectedCallback(){const e=`mbg__custom-thumbscroller-${M.classCounter++}`;this.classList.add(e);const t=this.getAttribute("numberOfVisibleThumbs"),r=this.getAttribute("initialIndex"),n=`.${e} mbg-thumbs`;Be(n,`${n} img`,{numberOfVisibleThumbs:t?+t:void 0,initialIndex:r?+r:void 0}),U(n)}}l(Ge,"classCounter",0);class is extends HTMLElement{}class as extends HTMLElement{}class ls extends HTMLElement{}return customElements.define("mbg-gallery",M),customElements.define("mbg-slideshow",De),customElements.define("mbg-thumbscroller",Ge),customElements.define("mbg-images",is),customElements.define("mbg-thumbs",as),customElements.define("mbg-title",ls),c.EImageScaleMode=E,c.ESwipeDirection=f,c.Fullscreen=ye,c.HorizontalScroller=Se,c.Image=te,c.ImageStage=N,c.ImageStageExpand=ne,c.ImageStageFitAspect=Ae,c.ImageStageNoScale=Oe,c.ImageStageStretch=ke,c.ImageViewer=He,c.SwipeHandler=re,c.ThumbStage=Ve,c.ThumbsViewer=We,c.createFullscreenOnlyGallery=ns,c.createGallery=$e,c.createSlideshow=Me,c.createThumbsScroller=Be,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c}({});
