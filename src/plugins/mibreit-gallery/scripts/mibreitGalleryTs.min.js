var nt=Object.defineProperty;var st=(u,p,c)=>p in u?nt(u,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):u[p]=c;var l=(u,p,c)=>st(u,typeof p!="symbol"?p+"":p,c);var mibreitGalleryTs=function(u){"use strict";var p=document.createElement("style");p.textContent=`.mbg__img_stage{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:hidden}.mbg__img_stage__zoom{-webkit-transition:transform 10s linear;-moz-transition:transform 10s linear;-o-transition:transform 10s linear;transition:transform 10s linear;-webkit-transform:scale(1.125);-moz-transform:scale(1.125);-o-transform:scale(1.125);transform:scale(1.125)}.mbg__fade{-webkit-transition:opacity .75s ease-out;-moz-transition:opacity .75s ease-out;-o-transition:opacity .75s ease-out;transition:opacity .75s ease-out}.mbg__transition{-webkit-transition:all .75s ease-out;-moz-transition:all .75s ease-out;-o-transition:all .75s ease-out;transition:all .75s ease-out}.mbg__hscroller{height:100%;display:flex;flex-direction:row;align-items:center;-webkit-transition:transform .6s ease-in-out;-moz-transition:transform .6s ease-in-out;-o-transition:transform .6s ease-in-out;transition:transform .6s ease-in-out}.mbg__thumbs_viewer{height:100%;width:100%;overflow:hidden}.mbg__thumbs_viewer__centered{display:flex;justify-content:center;align-items:center}.mbg__thumb_stage{margin:.25rem;position:relative;flex-shrink:0;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);box-shadow:0 0 5px #00000080}.mbg__thumb_stage:hover{transform:scale(1.1)}.mbg__thumbs_scroller__previous_btn,.mbg__thumbs_scroller__next_btn{margin-right:.5rem;margin-left:.5rem}.mbg__thumbs_scroller__previous_btn>svg{transform:scaleX(-1)}.mbg__thumbs_scroller__parent{display:flex;flex-direction:row;align-items:center}.mbg__thumbs_scroller__parent svg{width:3rem;height:3rem;fill:#727f88}.mbg__fullscreen{position:fixed;box-sizing:border-box;background-color:#181818;-webkit-transition:background-color .75s ease-in-out;-moz-transition:background-color .75s ease-in-out;-o-transition:background-color .75s ease-in-out;transition:background-color .75s ease-in-out;overflow:hidden;top:0;left:0;padding:1rem;width:100%;height:100%;z-index:100;display:flex;flex-direction:column}.mbg__fullscreen>div>.mbg__img_stage{overflow:visible}.mbg__fullscreen>div>.mbg__img_stage img{-webkit-box-shadow:0px 0px 15px 0px rgba(0,0,0,.5);box-shadow:0 0 15px #00000080}.mbg__fullscreen>.mbg__fullscreen__exit_btn{position:absolute;width:3rem;height:3rem;right:1rem;top:1rem;z-index:3}.mbg__fullscreen>.mbg__fullscreen__exit_btn>svg{opacity:.75}.mbg__gallery__fullscreen_btn{position:absolute;z-index:2;width:2rem;height:2rem;right:.25rem;top:.25rem;opacity:0}.mbg__gallery__previous_btn{position:absolute;z-index:2;top:50%;opacity:0}.mbg__gallery__next_btn{position:absolute;z-index:2;top:50%;right:0rem;opacity:0}.mbg__gallery__next_btn>svg{width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}.mbg__gallery__previous_btn>svg{transform:scaleX(-1);width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}
`,document.head.appendChild(p);var c=(n=>(n[n.NONE=0]="NONE",n[n.FIT_ASPECT=1]="FIT_ASPECT",n[n.STRETCH=2]="STRETCH",n[n.EXPAND=3]="EXPAND",n))(c||{});function M(n){if(typeof n.numberOfVisibleThumbs<"u"&&(typeof n.numberOfVisibleThumbs!="number"||n.numberOfVisibleThumbs<0))throw new Error("checkThumbScrollerConfig - numberOfVisibleThumbs is invalid number");if(typeof n.initialIndex<"u"&&(typeof n.initialIndex!="number"||n.initialIndex<0))throw new Error("checkThumbScrollerConfig - config initialIndex should be of type number")}function V(n){if(typeof n.scaleMode<"u"&&(typeof n.scaleMode!="number"||n.scaleMode<0||n.scaleMode>3))throw new Error("checkSlideshowConfig - config scaleMode should be of type EImageScaleMode (number 0 - 3)");if(typeof n.interval<"u"&&(typeof n.interval!="number"||n.interval<1e3))throw new Error("checkSlideshowConfig - config interval should be of type number and larger than 1000");if(typeof n.zoom<"u"&&typeof n.zoom!="boolean")throw new Error("checkSlideshowConfig - config zoom should be of type boolean");if(typeof n.preloaderAfterSize<"u"&&(typeof n.preloaderAfterSize!="number"||n.preloaderAfterSize<0))throw new Error("checkSlideshowConfig - config preloaderAfterSize should be of type number");if(typeof n.preloaderBeforeSize<"u"&&(typeof n.preloaderBeforeSize!="number"||n.preloaderBeforeSize<0))throw new Error("checkSlideshowConfig - config preloaderBeforeSize should be of type number")}function ae(n){if(V(n),M(n),typeof n.thumbContainerSelector<"u"&&typeof n.thumbContainerSelector!="string")throw new Error("checkGalleryConfig - invalid thumbContainerSelector");if(typeof n.thumbSelector<"u"&&typeof n.thumbSelector!="string")throw new Error("checkGalleryConfig - invalid thumbSelector")}function he(){return parseFloat(window.getComputedStyle(document.body).getPropertyValue("font-size"))}function m(n){return document.createElement(n)}function _e(n){return n.cloneNode()}function S(n){n.remove()}function $(n,e){e.prepend(n)}function y(n,e){e.appendChild(n)}function O(n,e){e.parentElement.insertBefore(n,e)}function ue(n){for(var e=n.childNodes,t=new Array,s=0;s<e.length;++s)t.push(e[s]);return t}function v(n,e){n.innerHTML=e}function B(n,e){n[0].parentNode.insertBefore(e,n[0]),n.forEach(function(t){e.appendChild(t)})}function z(n){var e=n.getBoundingClientRect();return{width:e.width,height:e.height}}function ce(n){var e=n.getBoundingClientRect(),t=window.innerHeight,s=window.innerWidth;return e.top+e.height>0&&e.top<t&&e.left+e.width>0&&e.left<s}function me(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+s,x:e.left+t}}function de(n){return x(n,"class")}function _(n,e){n.classList.contains(e)||n.classList.add(e)}function C(n,e){n.classList.contains(e)&&n.classList.remove(e)}function ge(n,e){return window.getComputedStyle(n).getPropertyValue(e)}function o(n,e,t){n.style.setProperty(e,t)}function d(n,e){n.style.removeProperty(e),n.style.length===0&&n.removeAttribute("style")}function be(n){n.hasAttribute("style")&&n.removeAttribute("style")}function fe(n,e){e==null?be(n):n.style.cssText=e}function x(n,e){return n.hasAttribute(e)?n.getAttribute(e):null}function we(n,e,t){n.setAttribute(e,t)}function pe(n,e){n.removeAttribute(e)}function P(n,e){n.addEventListener("click",e)}function Z(n){document.addEventListener("keydown",n)}function I(n,e,t){n.addEventListener(e,t)}function Ee(n){n.addEventListener("contextmenu",function(e){e.preventDefault()})}function ye(n){n.addEventListener("dragstart",function(e){e.preventDefault()})}function T(n){return document.querySelector(n)}function L(n){return document.querySelectorAll(n)}function q(n){return n.key}var ve=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(h){h(i)})}return new(t||(t=Promise))(function(i,h){function b(w){try{a(s.next(w))}catch(G){h(G)}}function D(w){try{a(s.throw(w))}catch(G){h(G)}}function a(w){w.done?i(w.value):r(w.value).then(b,D)}a((s=s.apply(n,e||[])).next())})},Ce=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,r,i,h;return h={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function b(a){return function(w){return D([a,w])}}function D(a){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,a[0]&&(t=0)),t;)try{if(s=1,r&&(i=a[0]&2?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,r=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(n,t)}catch(w){a=[6,w],r=0}finally{s=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ie=5,U=function(){function n(e,t,s){t===void 0&&(t=0),s===void 0&&(s=Ie),this._unloadedElementIndices=[],this._currentIndex=-1,this._elementLoaders=e,this._preloaderBeforeSize=t,this._preloaderAfterSize=s,this._updateUnloadedElementIndices()}return n.prototype.loadAll=function(){this._loadElements(0,this._elementLoaders.length)},n.prototype.setCurrentIndex=function(e){this._currentIndex!=e&&(this._currentIndex=e,this._moveWindow())},n.prototype.loadElement=function(e){return ve(this,void 0,void 0,function(){var t,s,r;return Ce(this,function(i){switch(i.label){case 0:return e>=0&&e<this._elementLoaders.length?(t=!1,this._unloadedElementIndices.includes(e)?[3,1]:(t=!0,[3,5])):[3,6];case 1:i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._elementLoaders[e].load()];case 3:return t=i.sent(),t&&(s=this._unloadedElementIndices.indexOf(e),s>-1&&this._unloadedElementIndices.splice(s,1)),[3,5];case 4:return r=i.sent(),t=r,[3,5];case 5:return[2,t];case 6:throw new Error("Preloader#loadElement -> invalid Index ".concat(e))}})})},n.prototype.getElementLoaderInfos=function(){return this._elementLoaders},n.prototype.getUnloadedElementIndices=function(){return this._unloadedElementIndices},n.prototype._moveWindow=function(){if(this._unloadedElementIndices.length){var e=this._currentIndex-this._preloaderBeforeSize,t=this._currentIndex+this._preloaderAfterSize;this._loadElements(this._currentIndex,t<this._elementLoaders.length?t:this._elementLoaders.length),this._loadElements(e>=0?e:0,this._currentIndex),e<0&&(e=this._elementLoaders.length+e,this._loadElements(e,this._elementLoaders.length)),t>=this._elementLoaders.length&&(t=t-this._elementLoaders.length,this._loadElements(0,t))}},n.prototype._loadElements=function(e,t){for(var s=e<0?0:e;s<t&&s<this._elementLoaders.length;s++)this.loadElement(s)},n.prototype._updateUnloadedElementIndices=function(){for(var e=0;e<this._elementLoaders.length;e++)this._elementLoaders[e].wasLoaded()||this._unloadedElementIndices.push(e)},n}(),X="mibreit-LazyLoader_lazy",K="mibreit-LazyLoader_ElementLoader_animate",Y="data-src",Se="src",E;(function(n){n[n.INACTIVE=0]="INACTIVE",n[n.LOADING=1]="LOADING",n[n.LOADED=2]="LOADED"})(E||(E={}));var xe=function(){function n(e){var t;this._state=E.INACTIVE,this._wasLoadedCallbacks=new Array,this._dataSrc=null,this._element=e,this._dataSrc=x(e,Y);var s=(t=de(e))===null||t===void 0?void 0:t.split(",");this._dataSrc||s&&s.includes(X)?(this._state=E.INACTIVE,this._setBaseStyle()):this._state=E.LOADED}return n.prototype.load=function(){var e=this;return new Promise(function(t,s){e._state==E.INACTIVE?(e._element.onload=function(){e._finishLoad(),t(!0)},e._triggerLoad(),e._state=E.LOADING,e._setLoadingStyle(),e._element instanceof HTMLImageElement&&e._element.complete&&(e._element.onload=null,e._finishLoad(),t(!0))):e._state===E.LOADING?s(!1):s(!0)})},n.prototype.wasLoaded=function(){return this._state===E.LOADED},n.prototype.addWasLoadedCallback=function(e){this._wasLoadedCallbacks.includes(e)||this._wasLoadedCallbacks.push(e)},n.prototype._triggerLoad=function(){this._dataSrc&&we(this._element,Se,this._dataSrc),C(this._element,X)},n.prototype._finishLoad=function(){var e=this;pe(this._element,Y),this._state=E.LOADED,this._wasLoadedCallbacks.forEach(function(t){t()}),setTimeout(function(){e._setLoadedStyle()},50)},n.prototype._setBaseStyle=function(){o(this._element,"opacity","0")},n.prototype._setLoadingStyle=function(){_(this._element,K)},n.prototype._setLoadedStyle=function(){var e=this;d(this._element,"opacity"),setTimeout(function(){C(e._element,K)},1e3)},n}(),Te=function(){function n(e){var t=x(e,"width"),s=x(e,"height");if(t==null||s==null)throw new Error("ElementInfo#constructor - supported elements need a width and height property");var r=x(e,"class");this._element=e,this._originalElementStyle=r||"",this._width=parseInt(t),this._height=parseInt(s)}return n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.getStyle=function(){return this._originalElementStyle},n.prototype.isElementWithinScrollArea=function(){return ce(this._element)},n}(),Le=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ae=function(n){Le(e,n);function e(t){var s=n.call(this,t)||this;return s._elementInfo=new Te(s._element),s}return e.prototype.getHtmlElement=function(){return this._element},e.prototype.getWidth=function(){return this._elementInfo.getWidth()},e.prototype.getHeight=function(){return this._elementInfo.getHeight()},e.prototype.getStyle=function(){return this._elementInfo.getStyle()},e.prototype.isElementWithinScrollArea=function(){return this._elementInfo.isElementWithinScrollArea()},e}(xe),j;(function(n){n[n.SIMPLE_DEFER=0]="SIMPLE_DEFER",n[n.WINDOWED_EXTERNAL=1]="WINDOWED_EXTERNAL",n[n.WINDOWED_SCROLL=2]="WINDOWED_SCROLL",n[n.WINDOWED_SCROLL_HORIZONTAL=3]="WINDOWED_SCROLL_HORIZONTAL"})(j||(j={}));const F={img_stage:"mbg__img_stage",img_stage__zoom:"mbg__img_stage__zoom"},f={fade:"mbg__fade",transition:"mbg__transition"},J=50,Oe=700;var g=(n=>(n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n))(g||{});class ze{constructor(e,t){l(this,"_callback");l(this,"_touchStartTime",null);l(this,"_touchStartPosition",null);l(this,"_touchStart",e=>{this._touchStartTime=Date.now(),this._touchStartPosition=this._getTouchPosition(e)});l(this,"_touchEnd",e=>{if(this._touchStartTime&&this._touchStartPosition&&Date.now()-this._touchStartTime<Oe){const t=this._getTouchPosition(e),s=this._detectDirection(this._touchStartPosition,t);this._callback(s,t)}this._touchStartPosition=null,this._touchStartTime=null});this._callback=t,I(e,"pointerdown",this._touchStart),I(e,"pointerup",this._touchEnd)}_getTouchPosition(e){return{x:e.pageX,y:e.pageY}}_detectDirection(e,t){const s=e.x-t.x;return s>J?2:s<-J?1:0}}const k=async function(){return new Promise((n,e)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})})},Pe=1e3;class N{constructor(e,t,s){l(this,"_zoomAnimation",!1);l(this,"_imageStage");l(this,"_imageHandle");l(this,"_imageWidth");l(this,"_imageHeight");this._imageHandle=e,this._imageWidth=t,this._imageHeight=s,this._imageStage=this._createStage(),new ResizeObserver(()=>{this.reinitSize()}).observe(this._imageStage)}setZoomAnimation(e){this._zoomAnimation=e}reinitSize(){const e=z(this._imageStage);this._applyScaleModeImpl(e.width,e.height),this._centerImage(e.width,e.height)}async hideImage(e=g.NONE){this._zoomAnimation&&setTimeout(()=>{this._resetZoom()},Pe),this._stopSlideAnimation(),await k(),e==g.RIGHT?(_(this._imageStage,f.transition),o(this._imageStage,"left","-100%")):e==g.LEFT&&(_(this._imageStage,f.transition),o(this._imageStage,"left","100%")),d(this._imageStage,"opacity")}async showImage(e=g.NONE){this._zoomAnimation&&this._startZoomAnimation(),this._stopSlideAnimation(),await k(),e==g.RIGHT?(C(this._imageStage,f.transition),o(this._imageStage,"left","100%"),await k(),_(this._imageStage,f.transition),d(this._imageStage,"left")):e==g.LEFT?(C(this._imageStage,f.transition),o(this._imageStage,"left","-100%"),await k(),_(this._imageStage,f.transition),d(this._imageStage,"left")):(C(this._imageStage,f.transition),d(this._imageStage,"left")),o(this._imageStage,"opacity","1")}_createStage(){const e=m("div");return _(e,F.img_stage),_(e,f.fade),B([this._imageHandle],e),e}_centerImage(e,t){const{width:s,height:r}=z(this._imageHandle),i=(s+e)/2-s,h=(r+t)/2-r;o(this._imageHandle,"margin-left",`${i}px`),o(this._imageHandle,"margin-top",`${h}px`)}_startZoomAnimation(){_(this._imageHandle,F.img_stage__zoom)}_resetZoom(){C(this._imageHandle,F.img_stage__zoom)}_stopSlideAnimation(){o(this._imageStage,"margin-left",ge(this._imageStage,"margin-left"))}}class ke extends N{constructor(e,t,s){super(e,t,s)}_applyScaleModeImpl(e,t){const s=this._imageWidth/this._imageHeight;let r="auto",i="auto";e/t>s?t<=this._imageHeight&&(i="100%"):e<=this._imageWidth&&(r="100%"),o(this._imageHandle,"width",r),o(this._imageHandle,"height",i)}}class Q extends N{constructor(e,t,s){super(e,t,s)}_applyScaleModeImpl(e,t){const s=this._imageWidth/this._imageHeight,r=e/t;r>s?(o(this._imageHandle,"width","100%"),o(this._imageHandle,"height",`${100/s*r}%`)):(o(this._imageHandle,"width",`${s*100/r}%`),o(this._imageHandle,"height","100%"))}}class Ne extends N{constructor(e,t,s){super(e,t,s)}_applyScaleModeImpl(e,t){o(this._imageHandle,"width","100%"),o(this._imageHandle,"height","100%")}}class Ve extends N{constructor(e,t,s){super(e,t,s)}_applyScaleModeImpl(e,t){d(this._imageHandle,"width"),d(this._imageHandle,"height")}}function Be(n,e,t,s=c.FIT_ASPECT){switch(s){case c.EXPAND:return new Q(n,e,t);case c.FIT_ASPECT:return new ke(n,e,t);case c.STRETCH:return new Ne(n,e,t);case c.NONE:default:return new Ve(n,e,t)}}class Fe{constructor(e,t=c.FIT_ASPECT){l(this,"_currentIndex",-1);l(this,"_delayedNewIndex",-1);l(this,"_imageStages",[]);l(this,"_images");l(this,"_imageChangedCallbacks",new Array);this._images=e,this._prepareImageStages(e,t)}showImage(e){return this._showImage(e)}showNextImage(e){const t=this._currentIndex<this._imageStages.length-1?this._currentIndex+1:0;return this._showImage(t,e)}showPreviousImage(e){const t=this._currentIndex>0?this._currentIndex-1:this._imageStages.length-1;return this._showImage(t,e)}getNumberOfImages(){return this._imageStages.length}setZoomAnimation(e){this._imageStages.forEach(t=>{t.setZoomAnimation(e)})}addImageChangedCallback(e){this._imageChangedCallbacks.includes(e)||this._imageChangedCallbacks.push(e)}getImageIndex(){return this._currentIndex}getImageInfo(e){return this._isValidIndex(e)?this._images[e]:null}getImageElement(e){return this._isValidIndex(e)?this._images[e].getHtmlElement():null}_showImage(e,t=g.NONE){return this._isValidIndex(e)?(e!=this._currentIndex&&(this._images[e].wasLoaded()?(this._hideImage(this._currentIndex,t),this._changeCurrentImage(e,t)):(this._delayedNewIndex=e,this._images[e].addWasLoadedCallback(()=>{e===this._delayedNewIndex&&(this._hideImage(this._currentIndex,t),this._changeCurrentImage(this._delayedNewIndex,t))}))),!0):!1}_hideImage(e,t=g.NONE){this._isValidIndex(e)&&this._imageStages[this._currentIndex].hideImage(t)}_prepareImageStages(e,t){e.forEach(s=>{const r=Be(s.getHtmlElement(),s.getWidth(),s.getHeight(),t);s.addWasLoadedCallback(()=>{r.reinitSize()}),this._imageStages.push(r)})}_isValidIndex(e){return e>=0&&e<this._imageStages.length}_changeCurrentImage(e,t=g.NONE){this._currentIndex=e,this._imageStages[this._currentIndex].showImage(t),this._imageChangedCallbacks.forEach(s=>{s(this._currentIndex,this._images[this._currentIndex])})}}class Re{constructor(e,t){l(this,"_imageViewer");l(this,"_loader");this._imageViewer=e,this._loader=t}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}}const ee="title",te="data-title",He=7,We=3,De=7,Ge=.5;class ne extends Ae{constructor(t){super(t);l(this,"_title","");this._prepareTitle(t),this._limitMaxSizeTo(t,this.getWidth(),this.getHeight()),Ee(t),ye(t)}getTitle(){return this._title}getUrl(){return this._element.hasAttribute("data-src")?this._element.getAttribute("data-src"):this._element.getAttribute("src")}_limitMaxSizeTo(t,s,r){fe(t,`max-width: ${s}px; max-height: ${r}px`)}_prepareTitle(t){let s=t.getAttribute(ee);s?(t.setAttribute(te,s),t.removeAttribute(ee)):s=t.getAttribute(te),this._title=s||""}}class R{constructor(e,t){l(this,"_imageViewer");l(this,"_lazyLoader");const s=this._createImagesArray(e);this._lazyLoader=this._createLoader(s,t==null?void 0:t.preloaderBeforeSize,t==null?void 0:t.preloaderAfterSize),this._imageViewer=this._createImageViewer(s,this._lazyLoader,t==null?void 0:t.scaleMode,t==null?void 0:t.zoom),t!=null&&t.interval&&setInterval(()=>{this._imageViewer.showNextImage()},t.interval),this._imageViewer.showImage(0)}build(){return new Re(this._imageViewer,this._lazyLoader)}_createImagesArray(e){const t=new Array;for(let s=0;s<e.length;s++){const r=new ne(e[s]);t.push(r)}return t}_createLoader(e,t=We,s=He){const r=new U(e,t,s);return setTimeout(()=>{r.loadElement(0),r.setCurrentIndex(0)},0),r}_createImageViewer(e,t,s,r){const i=new Fe(e,s);return r!==void 0&&i.setZoomAnimation(r),t&&(i.addImageChangedCallback((h,b)=>{t.setCurrentIndex(h)}),t.setCurrentIndex(0)),i}}function Me(n,e){if(typeof n!="string")throw new Error("createSlideshow - second parameter must be imageSelector string");const t=L(n);if((t==null?void 0:t.length)>0)return e&&V(e),new R(t,e).build();throw new Error("createSlideshow - no images selected")}const $e={hscroller:"mbg__hscroller"};class Ze{constructor(e){l(this,"_scroller");this._scroller=this._createScroller(e)}scrollTo(e,t=!1){let s;return t?s=`${e}rem`:s=`${e}px`,o(this._scroller,"transform",`translate(${s})`),!0}_createScroller(e){const t=m("div");return _(t,$e.hscroller),B(e,t),t}}const se={thumbs_viewer:"mbg__thumbs_viewer",thumbs_viewer__centered:"mbg__thumbs_viewer__centered"};class qe{constructor(e,t){l(this,"_scroller",null);l(this,"_wrapperElement");l(this,"_thumbElements");l(this,"_thumbSizeRem");l(this,"_numberOfVisibleThumbs");l(this,"_scrollIndexChangedCallbacks",new Array);l(this,"_currentScrollIndex",0);this._numberOfVisibleThumbs=t,this._thumbElements=Array.from(e.children),this._wrapperElement=this._wrapThumbs(ue(e),t,this._thumbElements.length),this._thumbSizeRem=this._calculateThumbsize(this._wrapperElement,t),this._resizeThumbs(this._thumbElements,this._thumbSizeRem),this._numberOfVisibleThumbs<this._thumbElements.length&&(this._scroller=new Ze(this._thumbElements)),new ResizeObserver(()=>{this.reinitSize()}).observe(this._wrapperElement)}reinitSize(){this._thumbSizeRem=this._calculateThumbsize(this._wrapperElement,this._numberOfVisibleThumbs),this._resizeThumbs(this._thumbElements,this._thumbSizeRem),this.setCenterThumb(this._currentScrollIndex,!1)}setCenterThumb(e,t=!0){if(this._scroller){let s=e;t&&(s-=Math.floor(this._numberOfVisibleThumbs/2));const r=this._normalizeIndex(s);this._currentScrollIndex=r;const i=-r*this._thumbSizeRem;this._scroller.scrollTo(i,!0),this._scrollIndexChangedCallbacks.forEach(h=>{h(this._currentScrollIndex)})}}scrollNext(){let e=this._currentScrollIndex+this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===t?e=0:e>=t&&(e=t),this.setCenterThumb(e,!1)}scrollPrevious(){let e=this._currentScrollIndex-this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===0?e=t:e<0&&(e=0),this.setCenterThumb(e,!1)}addScrollIndexChangedCallback(e){this._scrollIndexChangedCallbacks.includes(e)||this._scrollIndexChangedCallbacks.push(e)}_normalizeIndex(e){const t=this._thumbElements.length-this._numberOfVisibleThumbs;return e>=t?t:e<0?0:e}_wrapThumbs(e,t,s){const r=m("div");return _(r,se.thumbs_viewer),t>=s&&_(r,se.thumbs_viewer__centered),B(e,r),r}_calculateThumbsize(e,t){const s=he();return z(e).width/s/t}_resizeThumbs(e,t){const s=t*.9,r=t*.05;for(let i=0;i<e.length;++i)o(e[i],"width",`${s}rem`),o(e[i],"height",`${s}rem`),o(e[i],"margin",`${r}rem`)}}const Ue={thumb_stage:"mbg__thumb_stage"};class Xe extends Q{constructor(e,t,s){super(e,t,s),_(this._imageStage,Ue.thumb_stage)}addStageClickedCallback(e){P(this._imageStage,e)}}const H={thumbs_scroller__previous_btn:"mbg__thumbs_scroller__previous_btn",thumbs_scroller__next_btn:"mbg__thumbs_scroller__next_btn",thumbs_scroller__parent:"mbg__thumbs_scroller__parent"},re='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"/></svg>';class ie{constructor(e,t,s,r){l(this,"_thumbContainerElement");l(this,"_previousButtonElement");l(this,"_nextButtonElement");l(this,"_lazyLoader");l(this,"_numberOfVisibleThumbs");l(this,"_numberOfThumbs");l(this,"_initialIndex");l(this,"_thumbsViewer");this._thumbContainerElement=e,_(this._thumbContainerElement,H.thumbs_scroller__parent),this._numberOfVisibleThumbs=s!=null&&s.numberOfVisibleThumbs?s.numberOfVisibleThumbs:De,this._initialIndex=s==null?void 0:s.initialIndex;const i=this._createThumbsArray(t);this._numberOfThumbs=i.length,this._createThumbStages(i,r),this._lazyLoader=new U(i,this._numberOfVisibleThumbs,this._numberOfVisibleThumbs),this._thumbsViewer=this._createThumbsViewer(this._thumbContainerElement,this._lazyLoader,this._initialIndex)}addPreviousNextButtons(){return this._numberOfVisibleThumbs<this._numberOfThumbs&&([this._previousButtonElement,this._nextButtonElement]=this._createPreviousNextButtons(this._thumbContainerElement)),this}build(){return this._thumbsViewer.reinitSize(),this._previousButtonElement&&this._nextButtonElement&&this._addThumbsViewerInteraction(this._thumbsViewer,this._previousButtonElement,this._nextButtonElement),this._numberOfVisibleThumbs>=this._numberOfThumbs&&setTimeout(()=>{this._lazyLoader.loadElement(0),this._lazyLoader.setCurrentIndex(0),this._thumbsViewer.setCenterThumb(0)},0),this._thumbsViewer}_createThumbsArray(e){const t=new Array;for(let s=0;s<e.length;s++){const r=new ne(e[s]);t.push(r)}return t}_createThumbStages(e,t){e.forEach((s,r)=>{const i=new Xe(s.getHtmlElement(),s.getWidth(),s.getHeight());s.addWasLoadedCallback(()=>{i.reinitSize()}),i.showImage(),t&&i.addStageClickedCallback(()=>{t(r)})})}_createThumbsViewer(e,t,s=0){const r=new qe(e,this._numberOfVisibleThumbs);return r.addScrollIndexChangedCallback(i=>{t.setCurrentIndex(i)}),r.setCenterThumb(s),r}_createPreviousNextButtons(e){const t=m("div");v(t,re),_(t,H.thumbs_scroller__previous_btn),$(t,e);const s=m("div");return v(s,re),_(s,H.thumbs_scroller__next_btn),y(s,e),[t,s]}_addThumbsViewerInteraction(e,t,s){P(s,()=>{e.scrollNext()}),P(t,()=>{e.scrollPrevious()})}}function Ke(n,e,t,s){if(typeof n!="string")throw new Error("createThumbsViewer - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createThumbsViewer - second parameter must be imageSelector string");t&&M(t);const r=L(e),i=T(n);if(i&&(r==null?void 0:r.length)>0)return new ie(i,r,t,s).addPreviousNextButtons().build();throw new Error("createThumbsViewer - no images selected")}class Ye{constructor(e,t,s,r){l(this,"_imageViewer");l(this,"_loader");l(this,"_fullscreenContainer",null);l(this,"_thumbsViewer",null);this._imageViewer=e,this._loader=t,this._thumbsViewer=s,this._fullscreenContainer=r}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}getThumbsViewer(){return this._thumbsViewer}getFullscreen(){return this._fullscreenContainer}}const le={fullscreen:"mbg__fullscreen",img_stage:"mbg__img_stage",fullscreen__exit_btn:"mbg__fullscreen__exit_btn"},je='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';class Je{constructor(e,t=null,s=!0){l(this,"_changedCallbacks",[]);l(this,"_active");l(this,"_slideshowContainerElement");l(this,"_thumbsContainerElement",null);l(this,"_fullScreenContainerElement");l(this,"_slideshowContainerPlaceholderElement");l(this,"_thumbsContainerPlaceholderElement",null);l(this,"_closeButtonElement");l(this,"_usePlaceholder");this._active=!1,this._slideshowContainerElement=e,this._thumbsContainerElement=t,this._usePlaceholder=s,this._fullScreenContainerElement=this._createFullscreenContainer(),this._closeButtonElement=this._createFullscreenCloseButton(this._fullScreenContainerElement),this._slideshowContainerPlaceholderElement=this._createSlideshowContainerPlaceholder(),t&&(this._thumbsContainerPlaceholderElement=this._createThumbsContainerPlaceholder())}activate(){this._active||(this._moveGalleryToFullscreen(),this._moveThumbsToFullscreen(),this._addFullscreen(),this._setupCloseButtonHandler(),this._active=!0,this._changedCallbacks.forEach(e=>{e(!0)}))}deActivate(){this._active&&(this._removeGalleryFromFullscreen(),this._removeThumbsFromFullscreen(),this._removeFullscreen(),this._active=!1,this._changedCallbacks.forEach(e=>{e(!1)}))}addChangedCallback(e){this._changedCallbacks.includes(e)||this._changedCallbacks.push(e)}isActive(){return this._active}setBackgroundColor(e){o(this._fullScreenContainerElement,"background-color",e)}_createFullscreenContainer(){const e=m("div");return _(e,le.fullscreen),e}_createFullscreenCloseButton(e){const t=m("div");return v(t,je),_(t,le.fullscreen__exit_btn),y(t,e),t}_createSlideshowContainerPlaceholder(){return m("div")}_createThumbsContainerPlaceholder(){return m("div")}_addFullscreen(){const e=T("body");e!=null&&y(this._fullScreenContainerElement,e)}_removeFullscreen(){S(this._fullScreenContainerElement)}_moveGalleryToFullscreen(){this._usePlaceholder&&O(this._slideshowContainerPlaceholderElement,this._slideshowContainerElement),y(this._slideshowContainerElement,this._fullScreenContainerElement),o(this._slideshowContainerElement,"width","100%"),o(this._slideshowContainerElement,"flex-grow","1")}_removeGalleryFromFullscreen(){S(this._slideshowContainerElement),this._usePlaceholder&&(O(this._slideshowContainerElement,this._slideshowContainerPlaceholderElement),S(this._slideshowContainerPlaceholderElement)),d(this._slideshowContainerElement,"width"),d(this._slideshowContainerElement,"flex-grow")}_moveThumbsToFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(this._usePlaceholder&&O(this._thumbsContainerPlaceholderElement,this._thumbsContainerElement),y(this._thumbsContainerElement,this._fullScreenContainerElement),o(this._thumbsContainerElement,"flex-grow","0"))}_removeThumbsFromFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(S(this._thumbsContainerElement),this._usePlaceholder&&(O(this._thumbsContainerElement,this._thumbsContainerPlaceholderElement),S(this._thumbsContainerPlaceholderElement)),d(this._thumbsContainerElement,"flex-grow"))}_setupCloseButtonHandler(){P(this._closeButtonElement,e=>{e==null||e.stopPropagation(),this._active&&this.deActivate()})}}const oe='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>',Qe='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z"/></svg>',W={gallery__fullscreen_btn:"mbg__gallery__fullscreen_btn",gallery__previous_btn:"mbg__gallery__previous_btn",gallery__next_btn:"mbg__gallery__next_btn"};class A{constructor(e,t,s=!1){l(this,"_slideshowContainerElement");l(this,"_fullScreenOnly");l(this,"_slideshow");l(this,"_thumbsViewer",null);l(this,"_fullscreen",null);this._slideshowContainerElement=e,this._slideshow=t,this._fullScreenOnly=s}static fromContainerAndImages(e,t,s){const r=new R(t,s).build();return new A(e,r)}static fromImages(e,t){const s=m("div");o(s,"display","none"),e.forEach(b=>{y(_e(b),s)});const r=T("body");y(s,r);const i=s.children,h=new R(i,t).build();return new A(s,h,!0)}addPreviousNextButtons(){const{previousButton:e,nextButton:t}=this._createPreviousNextButtons(this._slideshowContainerElement);return this._setupHoverEvents(this._slideshowContainerElement,[e,t]),this}addFullscreen(){this._fullscreen=new Je(this._slideshowContainerElement);const e=this._createFullscreenButton(this._slideshowContainerElement);return this._setupHoverEvents(this._slideshowContainerElement,[e]),this._setupFullscreenKeyEvents(this._fullscreen),this._setupFullscreenClickEvent(e,this._fullscreen),this._setupFullscreenChangedHandler(this._fullscreen,e),this._fullScreenOnly&&this._fullscreen.addChangedCallback(t=>{t?d(this._slideshowContainerElement,"display"):o(this._slideshowContainerElement,"display","none")}),this}addThumbScroller(e,t,s){return this._thumbsViewer=new ie(e,t,s,r=>{this._slideshow.getLoader().setCurrentIndex(r),this._slideshow.getImageViewer().showImage(r)}).addPreviousNextButtons().build(),this._slideshow.getImageViewer().addImageChangedCallback((r,i)=>{this._thumbsViewer.setCenterThumb(r,!0)}),this}build(){return this._setupSwipeHandler(this._slideshowContainerElement,this._slideshow.getImageViewer()),this._setupKeyEvents(this._slideshow.getImageViewer()),new Ye(this._slideshow.getImageViewer(),this._slideshow.getLoader(),this._thumbsViewer,this._fullscreen)}_createPreviousNextButtons(e){const t=m("div");v(t,oe),_(t,W.gallery__previous_btn),_(t,f.fade),$(t,e);const s=m("div");return v(s,oe),_(s,W.gallery__next_btn),_(s,f.fade),y(s,e),{previousButton:t,nextButton:s}}_setupSwipeHandler(e,t){o(e,"touch-action","pinch-zoom pan-y"),new ze(e,(s,r)=>{const i=z(e).width,h=me(e).x;s===g.LEFT?t.showPreviousImage(s):s===g.RIGHT?t.showNextImage(s):r.x-h>i/2?t.showNextImage():t.showPreviousImage()})}_setupHoverEvents(e,t){I(e,"mouseenter",()=>{t.forEach(s=>{o(s,"opacity",`${Ge}`)})}),I(e,"mouseleave",()=>{t.forEach(s=>{o(s,"opacity","0")})})}_setupKeyEvents(e){Z(t=>{switch(q(t)){case"ArrowRight":e.showNextImage();break;case"ArrowLeft":e.showPreviousImage();break}})}_setupFullscreenKeyEvents(e){Z(t=>{switch(q(t)){case"Escape":e.deActivate();break;case"f":e.isActive()?e.deActivate():e.activate();break}})}_createFullscreenButton(e){const t=m("div");return v(t,Qe),_(t,W.gallery__fullscreen_btn),_(t,f.fade),y(t,e),t}_setupFullscreenClickEvent(e,t){I(e,"pointerdown",s=>{s.stopPropagation()}),I(e,"pointerup",s=>{s.stopPropagation(),t.isActive()||(t.activate(),o(e,"display","none"))})}_setupFullscreenChangedHandler(e,t){e.addChangedCallback(s=>{s?o(t,"display","none"):d(t,"display")})}}function et(n,e,t){if(typeof n!="string")throw new Error("createGallery - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createGallery - second parameter must be imageSelector string");t&&ae(t);const s=L(e),r=T(n);if(r&&(s==null?void 0:s.length)>0){const i=A.fromContainerAndImages(r,s,t).addPreviousNextButtons().addFullscreen();if(t!=null&&t.thumbSelector&&(t!=null&&t.thumbContainerSelector)){const h=T(t.thumbContainerSelector),b=L(t.thumbSelector);h&&b&&(b.length>1?i.addThumbScroller(h,b,t):o(h,"display","none"))}return i.build()}else throw new Error("createGallery - no images selected")}function tt(n,e){if(typeof n!="string")throw new Error("createFullscreenOnlyGallery - first parameter must be imageSelector string");V(e);const t=L(n);if((t==null?void 0:t.length)>0)return A.fromImages(t,e).addPreviousNextButtons().addFullscreen().build();throw new Error("createFullscreenOnlyGallery - no images selected")}return u.EImageScaleMode=c,u.createFullscreenOnlyGallery=tt,u.createGallery=et,u.createSlideshow=Me,u.createThumbsScroller=Ke,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
